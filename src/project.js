require=function t(o,e,n){function i(a,r){if(!e[a]){if(!o[a]){var d="function"==typeof require&&require;if(!r&&d)return d(a,!0);if(c)return c(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=e[a]={exports:{}};o[a][0].call(l.exports,function(t){var e=o[a][1][t];return i(e?e:t)},l,l.exports,t,o,e,n)}return e[a].exports}for(var c="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({End:[function(t,o,e){"use strict";cc._RF.push(o,"6ab49GeZ1hJYrCtsRM0sBgk","End"),Object.defineProperty(e,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,c=n.property,a=t("./Global"),r=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return __extends(o,t),o.prototype.onLoad=function(){cc.find("Canvas").opacity=0,cc.find("Canvas").runAction(cc.fadeIn(1)),a.resetAudio(),a.resultState.good?(this.angel.active=!0,a.audioConfigData.goodHandler=cc.audioEngine.play(this.goodAudio,!0,1)):a.resultState.bad?(this.devil.active=!0,a.audioConfigData.badHandler=cc.audioEngine.play(this.badAudio,!0,1)):a.resultState.normal&&(this.normal.active=!0,a.audioConfigData.normalHandler=cc.audioEngine.play(this.normalAudio,!0,1))},o}(cc.Component);__decorate([c(cc.Node)],r.prototype,"angel",void 0),__decorate([c(cc.Node)],r.prototype,"devil",void 0),__decorate([c(cc.Node)],r.prototype,"normal",void 0),__decorate([c(cc.AudioClip)],r.prototype,"goodAudio",void 0),__decorate([c(cc.AudioClip)],r.prototype,"badAudio",void 0),__decorate([c(cc.AudioClip)],r.prototype,"normalAudio",void 0),r=__decorate([i],r),e["default"]=r,cc._RF.pop()},{"./Global":"Global"}],Global:[function(t,o,e){"use strict";cc._RF.push(o,"064d6bTyIJGT7mDmTei+Pd+","Global");var n=this;Object.defineProperty(e,"__esModule",{value:!0}),e.questionConfigDataArray=[{name:"请求",yesAttr:-1,noAttr:1,content:"你脑海里出现一个声音的回响，它告诉你，选择其中一个人处刑，你就可以获得另外一个人的奖赏，你愿意这么做吗？",isUsed:!1},{name:"暴力",yesAttr:1,noAttr:-1,content:"树上下的两个人，脸上的表情都非常痛苦，他们虚弱无力地低吟着，似乎在向你求救。可你还没搞清楚这里的状况，你会花时间来尝试救他们吗？",isUsed:!1},{name:"贪吃",yesAttr:-1,noAttr:1,content:"你已经饿了很久很久，饥肠辘辘的你似乎有点神智不清，看着眼前两个垂死之人，竟然产生了食欲，如果可以，你会吃掉他们其中一个吗？",isUsed:!1},{name:"色欲",yesAttr:-1,noAttr:1,content:"被树根缠绕的人对你说：救我，我可以赐予你一个纯洁无瑕，不谙世事的处女；另一个被树枝穿刺的人对你说：杀了他，你将可以和我美丽的妻子共度一夜，很多男人都觊觎着她。你会考虑他们的提议吗？",isUsed:!1},{name:"嫉妒",yesAttr:-1,noAttr:1,content:"细心观察之下，树上树下两个人各有一样你渴望但永远得不到的东西，此时你脑海里冒出一个邪恶的念头，你得不到的别人也别想拥有。此时，你会遵循自己内心的真实想法吗？",isUsed:!1},{name:"懒惰",yesAttr:-1,noAttr:1,content:"你突然发现，被树枝穿刺的人，他曾经蓄意射杀了你的挚友，尽管那是他们之间的恩怨；被树根缠绕的人，他曾经夺你所爱，让你饱受失恋的痛苦。趁着四下无人，你会考虑动手吗？",isUsed:!1},{name:"宽恕",yesAttr:-1,noAttr:1,content:"现在，树上树下两个人的生死都由你来决定，动弹不得他们犹如待宰羔羊，生命是如此脆弱，而你却能赋予他们生存的权利，如果可以，你想以后都能主宰他们的命运吗？",isUsed:!1}],e.countConfigData={currentNum:0,totalNum:7},e.scoreConfigData={score:0},e.resultState={good:!1,bad:!1,normal:!1},e.audioConfigData={backgroundHandler:null,goodHandler:null,badHandler:null,normalHandler:null},e.resetAudio=function(){null!==n.audioConfigData.goodHandler&&cc.audioEngine.stop(n.audioConfigData.goodHandler),null!==n.audioConfigData.badHandler&&cc.audioEngine.stop(n.audioConfigData.badHandler),null!==n.audioConfigData.normalHandler&&cc.audioEngine.stop(n.audioConfigData.normalHandler),null!==n.audioConfigData.backgroundHandler&&cc.audioEngine.stop(n.audioConfigData.backgroundHandler)},cc._RF.pop()},{}],MainController:[function(t,o,e){"use strict";cc._RF.push(o,"196e6OWsYVPNarJcc7O5Rch","MainController"),Object.defineProperty(e,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,c=n.property,a=t("./Global"),r=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.currentQuestionIndex=0,o.currentAngelIndex=1,o.currentDevilIndex=1,o}return __extends(o,t),o.prototype.execEffect=function(t,o,e){o.position=o.parent.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.v2(0,0))),setTimeout(function(){o.active=!1},100),setTimeout(function(){o.active=!0},200),setTimeout(function(){o.active=!1},300),setTimeout(function(){o.active=!0},400),setTimeout(function(){o.active=!1},500),setTimeout(function(){o.active=!0},600),setTimeout(function(){o.position=cc.v2(1e4,1e4),e()},700)},o.prototype.newTurn=function(){var t=this.currentQuestionIndex;this.currentQuestionIndex++,a.countConfigData.currentNum++,a.questionConfigDataArray[t].isUsed=!0;var o=a.questionConfigDataArray[t];this.question=o,this.showAll(),this.showData(o),this.playQuestionAudio()},o.prototype.playQuestionAudio=function(){cc.audioEngine.play(this.questionAudio,!1,1)},o.prototype.onLoad=function(){cc.director.preloadScene("end",function(t){t?console.log(t):console.log("end preloaded")}),cc.find("Canvas").opacity=0,cc.find("Canvas").runAction(cc.fadeIn(1)),a.resetAudio(),a.audioConfigData.backgroundHandler=cc.audioEngine.play(this.backgroundAudio,!0,1),this.yesBtn.on("touchstart",this.onYesBtnStart,this),this.noBtn.on("touchend",this.onNoBtnStart,this),this.yesBtn.on("touchend",this.onYesBtn,this),this.noBtn.on("touchend",this.onNoBtn,this),this.newTurn()},o.prototype.onYesBtnStart=function(){this.yesBtn.color=cc.Color.GRAY},o.prototype.onNoBtnStart=function(){this.noBtn.color=cc.Color.GRAY},o.prototype.onYesBtn=function(){var t=this;this.yesBtn.color=cc.Color.WHITE,a.scoreConfigData.score+=this.question.yesAttr,this.hideAll(),this.playAnim(this.question.yesAttr,function(){var o=t.checkEnd();o||t.newTurn()})},o.prototype.onNoBtn=function(){var t=this;this.noBtn.color=cc.Color.WHITE,a.scoreConfigData.score+=this.question.noAttr,this.hideAll(),this.playAnim(this.question.noAttr,function(){var o=t.checkEnd();o||t.newTurn()})},o.prototype.playAnim=function(t,o){if(t<0){var e=this.currentAngelIndex;this.currentAngelIndex++,cc.audioEngine.play(this.angelAudio1,!1,1),this.angelHurtPoint.getChildByName("angelHurtPoint"+e).active=!0,this.angelHurtPoint.getChildByName("angelHurtPoint"+e).opacity=0,this.angelHurtPoint.getChildByName("angelHurtPoint"+e).runAction(cc.fadeIn(1));var n=this.angelHurtPoint.getChildByName("angelHurtPoint"+e);this.execEffect(n,this.bloodNode,function(){o()})}else{var i=this.currentDevilIndex;this.currentDevilIndex++,cc.audioEngine.play(this.devilAudio,!1,1),this.devilHurtPoint.getChildByName("devilHurtPoint"+i).active=!0,this.devilHurtPoint.getChildByName("devilHurtPoint"+i).opacity=255;var c=this;this.devilHurtPoint.getChildByName("devilHurtPoint"+i).runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){c.devilHurtPoint.getChildByName("devilHurtPoint"+i).active=!1})));var n=this.devilHurtPoint.getChildByName("devilHurtPoint"+i);this.execEffect(n,this.lightNode,function(){o()})}},o.prototype.checkEnd=function(){if(this.resetResultState(),a.countConfigData.currentNum>=a.countConfigData.totalNum){if(0===a.scoreConfigData.score)return a.resultState.normal=!0,cc.find("Canvas").runAction(cc.fadeOut(1)),setTimeout(function(){cc.director.loadScene("end")},1500),!0;if(a.scoreConfigData.score>0)return a.resultState.good=!0,cc.find("Canvas").runAction(cc.fadeOut(1)),setTimeout(function(){cc.director.loadScene("end")},1500),!0;if(a.scoreConfigData.score<0)return a.resultState.bad=!0,cc.find("Canvas").runAction(cc.fadeOut(1)),setTimeout(function(){cc.director.loadScene("end")},1500),!0}return!1},o.prototype.resetResultState=function(){a.resultState.good=!1,a.resultState.bad=!1,a.resultState.normal=!1},o.prototype.hideAll=function(){this.grayLayer.active=!1,this.dialog.active=!1,this.yesBtn.active=!1,this.noBtn.active=!1,this.board.active=!1},o.prototype.showAll=function(){this.grayLayer.active=!0,this.dialog.active=!0,this.yesBtn.active=!0,this.noBtn.active=!0,this.board.active=!0},o.prototype.showData=function(t){this.dialog.getChildByName("content").getComponent(cc.Label).string=t.content,this.dialog.getChildByName("title").getComponent(cc.Label).string=t.name},o}(cc.Component);__decorate([c(cc.Node)],r.prototype,"grayLayer",void 0),__decorate([c(cc.Node)],r.prototype,"dialog",void 0),__decorate([c(cc.Node)],r.prototype,"yesBtn",void 0),__decorate([c(cc.Node)],r.prototype,"noBtn",void 0),__decorate([c(cc.Node)],r.prototype,"devilEffect",void 0),__decorate([c(cc.Node)],r.prototype,"angelEffect",void 0),__decorate([c(cc.Node)],r.prototype,"devilHurtPoint",void 0),__decorate([c(cc.Node)],r.prototype,"angelHurtPoint",void 0),__decorate([c(cc.Node)],r.prototype,"board",void 0),__decorate([c(cc.AudioClip)],r.prototype,"questionAudio",void 0),__decorate([c(cc.AudioClip)],r.prototype,"devilAudio",void 0),__decorate([c(cc.AudioClip)],r.prototype,"angelAudio1",void 0),__decorate([c(cc.AudioClip)],r.prototype,"angelAudio2",void 0),__decorate([c(cc.AudioClip)],r.prototype,"backgroundAudio",void 0),__decorate([c(cc.Node)],r.prototype,"canvas",void 0),__decorate([c(cc.Node)],r.prototype,"lightNode",void 0),__decorate([c(cc.Node)],r.prototype,"bloodNode",void 0),r=__decorate([i],r),e["default"]=r,cc._RF.pop()},{"./Global":"Global"}],ShowTxt:[function(t,o,e){"use strict";cc._RF.push(o,"3e702GSwe5BgJ/kJsdJCmBK","ShowTxt"),Object.defineProperty(e,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,c=n.property,a=function(t){function o(){var o=null!==t&&t.apply(this,arguments)||this;return o.content0="",o.content1="   我是被一个沉重的雷声惊醒的",o.content2="睁开迷蒙的睡眼，发现烟雾弥漫，",o.content3="往四周观看时才发觉，我已来到了",o.content4="地狱之谷的边缘。  ",o.content5="-- 但丁·《神曲》 ",o}return __extends(o,t),o.prototype.onLoad=function(){var t=this;cc.director.preloadScene("main",function(t){t?console.log(t):console.log("main preloaded")}),cc.director.preloadScene("end",function(t){t?console.log(t):console.log("end preloaded")}),setTimeout(function(){t.showContent()},2e3)},o.prototype.showContent=function(){var t=this,o=0,e=0,n=5;this.handler=setInterval(function(){o>=t["content"+e].length&&(e>=n?(clearInterval(t.handler),t.loadMainScene()):(e++,o=0)),t["contentLabel"+e].string=t["content"+e].substr(0,o++)},100)},o.prototype.loadMainScene=function(){setTimeout(function(){cc.find("Canvas").runAction(cc.sequence(cc.fadeOut(1),cc.callFunc(function(){cc.director.loadScene("main")})))},2e3)},o}(cc.Component);__decorate([c(cc.Label)],a.prototype,"contentLabel0",void 0),__decorate([c(cc.Label)],a.prototype,"contentLabel1",void 0),__decorate([c(cc.Label)],a.prototype,"contentLabel2",void 0),__decorate([c(cc.Label)],a.prototype,"contentLabel3",void 0),__decorate([c(cc.Label)],a.prototype,"contentLabel4",void 0),__decorate([c(cc.Label)],a.prototype,"contentLabel5",void 0),__decorate([c(cc.Label)],a.prototype,"label",void 0),a=__decorate([i],a),e["default"]=a,cc._RF.pop()},{}]},{},["End","Global","MainController","ShowTxt"]);